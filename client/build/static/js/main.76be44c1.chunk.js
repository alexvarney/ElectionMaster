(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{12:function(e,t,a){e.exports={overlay:"PositionEditForm_overlay__1leSL",container:"PositionEditForm_container__zxlE1",flexRow:"PositionEditForm_flexRow__2edjn",subheading:"PositionEditForm_subheading__2tzHI",issueHeading:"PositionEditForm_issueHeading__25RNg PositionEditForm_subheading__2tzHI",flexCol:"PositionEditForm_flexCol__3fe_6",arrow:"PositionEditForm_arrow__zIPxJ",positionSelectorContainer:"PositionEditForm_positionSelectorContainer__2Sm0M",positionSelector:"PositionEditForm_positionSelector__R5qQS",controlButtons:"PositionEditForm_controlButtons__31_2i",filterButtons:"PositionEditForm_filterButtons__2_0-W",positionForm:"PositionEditForm_positionForm__e2kB5",textAreaContainer:"PositionEditForm_textAreaContainer__3I4TN",dropdown:"PositionEditForm_dropdown__2lulx",descriptionEditor:"PositionEditForm_descriptionEditor__3zI_p"}},122:function(e,t,a){},16:function(e,t,a){e.exports={candidatePanel:"CandidatePanel_candidatePanel__2MeJi",container:"CandidatePanel_container__11uZg",row:"CandidatePanel_row__ju9qP",col:"CandidatePanel_col__3e9bt",circlePolling:"CandidatePanel_circlePolling__3U0y1",titleContainer:"CandidatePanel_titleContainer__1OyR0",buttonRow:"CandidatePanel_buttonRow__2gp3G",panelButton:"CandidatePanel_panelButton__3vqiH",heading:"CandidatePanel_heading__2ONQX",aboutContainer:"CandidatePanel_aboutContainer__11YNj CandidatePanel_col__3e9bt",content:"CandidatePanel_content__2PzdJ CandidatePanel_row__ju9qP",headingContainer:"CandidatePanel_headingContainer__3Zw1F",positionEdit:"CandidatePanel_positionEdit__km-He"}},18:function(e,t,a){e.exports={overlay:"CandidateEditForm_overlay__ikGek",container:"CandidateEditForm_container__3vZpZ",formRow:"CandidateEditForm_formRow__1ts3g",formCol:"CandidateEditForm_formCol__3ZkoF",formItem:"CandidateEditForm_formItem__1-D7q",formAbout:"CandidateEditForm_formAbout__12X9t CandidateEditForm_formCol__3ZkoF",formButton:"CandidateEditForm_formButton__3iZpy"}},20:function(e,t,a){e.exports={overlay:"IssueEditForm_overlay__1d9Sy",container:"IssueEditForm_container__2zXDK",subheading:"IssueEditForm_subheading__RG2kw",controlButtons:"IssueEditForm_controlButtons__2mBoC",row:"IssueEditForm_row__1Zs8X",col:"IssueEditForm_col__2wrX4",selectContainer:"IssueEditForm_selectContainer__2Ydhz IssueEditForm_col__2wrX4",editContainer:"IssueEditForm_editContainer__PiQsW IssueEditForm_col__2wrX4",issueSelectContainer:"IssueEditForm_issueSelectContainer__3f_v-",issueSelector:"IssueEditForm_issueSelector__1QbEk",descriptionEditor:"IssueEditForm_descriptionEditor__TxPG8",nameEditor:"IssueEditForm_nameEditor__sNKAI"}},221:function(e,t,a){"use strict";a.r(t);var n=a(0),i=a.n(n),s=a(50),r=a.n(s),o=a(6),l=a(7),c=a(9),u=a(8),d=a(10),m=a(15),p=a(25),_=a(4),E=a(11),f=a(22),h=a.n(f),C=a(45),b=a.n(C),v=a(46),g=a.n(v),N=a(84),O=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).onFormChange=function(e){e.persist(),a.setState(function(t){return{formValues:Object(_.a)({},t.formValues,Object(p.a)({},e.target.name,e.target.value))}})},a.onFormSubmit=function(e){e.preventDefault(),a.props.login(a.state.formValues)},a.onLogoutClick=function(){a.props.logout(a.props.user.token)},a.state={formValues:{}},a}return Object(d.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){this.props.auth()}},{key:"render",value:function(){return""!==this.props.user.token?i.a.createElement("p",{className:g.a.loginText}," Welcome back, ",this.props.user.user.name," ",i.a.createElement(N.a,{color:"link",onClick:this.onLogoutClick},"(Sign out)")):i.a.createElement("form",{onSubmit:this.onFormSubmit,onChange:this.onFormChange,className:g.a.form},i.a.createElement("div",{className:g.a.formItem},i.a.createElement("label",null,"Email:"),i.a.createElement("input",{name:"email",value:this.state.formValues.email,type:"text"})),i.a.createElement("div",{className:g.a.formItem},i.a.createElement("label",null,"Password:"),i.a.createElement("input",{name:"password",value:this.state.formValues.password,type:"password"})),i.a.createElement(N.a,{size:"sm",onClick:this.onFormSubmit},"Login"))}}]),t}(n.Component),I=Object(E.b)(function(e){return{user:e.user}},{login:function(e){return function(t){h.a.post("/api/users/login",e).then(function(e){200===e.status?(b.a.set("em-token",e.data.token),t({type:"LOGIN_SUCCESS",payload:e.data})):t({type:"LOGIN_FAILURE"})}).catch(function(e){return t({type:"LOGIN_FAILURE"})})}},logout:function(e){return function(t){b.a.remove("em-token"),h.a.post("/api/users/me/logout",{},{headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(e)}}).then(function(e){return t({type:"LOGOUT"})})}},auth:function(){return function(e){var t=b.a.get("em-token")||"";h.a.get("/api/users/me",{headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(t)}}).then(function(a){200===a.status?e({type:"LOGIN_SUCCESS",payload:{user:a.data,token:t}}):(b.a.remove("em-token"),e({type:"LOGIN_FAILURE"}))})}}})(O),y=a(52),S=a.n(y),j=function(e){function t(){return Object(o.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return i.a.createElement("nav",{className:S.a.navbar},i.a.createElement("div",{className:S.a.left},i.a.createElement(m.b,{to:"/"},i.a.createElement("span",{className:S.a.titleStyle},"ElectionsMaster")),i.a.createElement(m.b,{to:"/candidates"},"Candidates"),i.a.createElement(m.b,{to:"/issues"},"Issues"),""!==this.props.user.token?i.a.createElement(m.b,{to:"/issues/edit"},"Issue Editor"):null,""!==this.props.user.token?i.a.createElement(m.b,{to:"/editpolls"},"Polling Editor"):null,""!==this.props.user.token?i.a.createElement(m.b,{to:"/profile"},"Profile"):null),i.a.createElement(I,null))}}]),t}(n.Component),w=Object(E.b)(function(e){return{user:e.user}},{})(j),k=a(35),P=a(86),F=a(43),x={candidates:[],selectedCandidateId:null},D={issues:[]},T={user:{},token:"",loginFailure:!1},L=Object(k.c)({candidates:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:x,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_CANDIDATES":return Object(_.a)({},e,{candidates:t.payload});case"SET_SELECTED_CANDIDATE":return Object(_.a)({},e,{selectedCandidateId:t.payload});case"UPDATE_CANDIDATE":var a=t.payload._id,n=e.candidates.filter(function(e){return e._id!==a});return Object(_.a)({},e,{candidates:[].concat(Object(F.a)(n),[t.payload])});default:return e}},issues:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:D,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_ISSUES":return Object(_.a)({},e,{issues:t.payload});case"UPDATE_ISSUE":return Object(_.a)({},e,{issues:[t.payload].concat(Object(F.a)(e.issues.filter(function(e){return e._id!==t.payload._id})))});default:return Object(_.a)({},e)}},user:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:T,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOGIN_SUCCESS":return Object(_.a)({},e,{user:t.payload.user,token:t.payload.token});case"LOGIN_FAILURE":return Object(_.a)({},e,{loginFailure:!0});case"LOGOUT":return Object(_.a)({},e,T);default:return Object(_.a)({},e)}}}),V=[P.a],A=window.__REDUX_DEVTOOLS_EXTENSION__?window.__REDUX_DEVTOOLS_EXTENSION__:{},B=window.__REDUX_DEVTOOLS_EXTENSION__?window.__REDUX_DEVTOOLS_EXTENSION__():function(e){return e},U=Object(k.e)(L,{candidates:[]},Object(k.d)(k.a.apply(void 0,V),A&&B)),R=a(36),G=(a(121),a(122),function(){return function(e){h.a.get("/api/candidates").then(function(t){return e({type:"GET_CANDIDATES",payload:t.data})})}}),X=function(e){return function(t){h.a.put("/api/candidates/".concat(e._id),e).then(function(e){return t({type:"UPDATE_CANDIDATE",payload:e.data})})}},M=a(87),Z=a.n(M),z=a(32),H=a.n(z);function q(e){var t=e.candidate,a=t.image,n=t.name,s=t.polling,r=t.slogan,o=t._id,l=n.substring(n.indexOf(" ")+1),c=n.split(" ")[0];return i.a.createElement(W,{active:e.selected===e.candidate._id,onClick:function(){return e.onSelect(o)}},i.a.createElement("div",{className:H.a.imgContainer},a?i.a.createElement("img",{alt:n,className:H.a.imgStyle,src:""+"/headshots/".concat(a)}):null),i.a.createElement("div",{className:H.a.textContainer},i.a.createElement("p",{className:H.a.percentageText},i.a.createElement("span",null,s&&s>0?s+"%":null),i.a.createElement("br",null)),i.a.createElement("p",null,i.a.createElement("span",null,c),i.a.createElement("br",null),i.a.createElement("span",{className:H.a.surnameStyle},l),i.a.createElement("br",null)),i.a.createElement("span",{className:Object(_.a)({},H.a.sloganText)},r)))}var W=function(e){return e.active?i.a.createElement("div",{className:H.a.active,onClick:e.onClick},e.children):i.a.createElement("div",{className:H.a.container,onClick:e.onClick},e.children)},J=function(e){function t(){return Object(o.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this,t=this.props.candidates,a=t.candidates,n=t.selectedCandidateId;return i.a.createElement("div",{style:{direction:"rtl"},className:Z.a.sidebar},i.a.createElement("div",{style:{direction:"ltr"}},a?a.sort(function(e,t){return e.polling>t.polling?-1:1}).map(function(t){return i.a.createElement(q,{key:t._id,candidate:t,selected:n,onSelect:e.props.setSelected})}):null))}}]),t}(n.Component),Q=Object(E.b)(function(e){return{candidates:e.candidates}},{setSelected:function(e){return function(t){t({type:"SET_SELECTED_CANDIDATE",payload:e})}}})(J),Y=a(16),K=a.n(Y),$=a(88),ee=a.n($),te=a(38),ae=a.n(te);function ne(e){return i.a.createElement("div",{className:ae.a.circle_container},i.a.createElement("div",{className:ae.a.circle},i.a.createElement("div",{className:ae.a.circle__inner},i.a.createElement("div",{className:ae.a.circle__wrapper},i.a.createElement("div",{className:ae.a.circle__content},e.children))),i.a.createElement("div",{style:e.style,className:ae.a.circle__after})))}var ie=a(37),se=a.n(ie),re=a(40),oe=a.n(re),le=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).expandContainer=function(){a.setState(function(e){return{isExpanded:!0}})},a.contractContainer=function(e){e.stopPropagation(),a.setState(function(e){return{isExpanded:!1}})},a.state={isExpanded:!1},a}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this,t=this.props.issues.filter(function(t){return t._id===e.props.position.issue})[0];if(!t)return null;return i.a.createElement("div",{onClick:this.expandContainer,className:se.a.container,style:function(){var t={cursor:e.state.isExpanded?"default":"pointer"};return Object(_.a)({},t,function(e){switch(e){case"supports":return{background:"#CEF6E3",color:"#0D472C"};case"opposed":return{background:"#F6CECE",color:"#470D0D"};default:return{background:"#F7F1D2",color:"#473D0D"}}}(e.props.position.status))}(this.props.position.status)},i.a.createElement("div",{className:se.a.row},i.a.createElement("div",{className:se.a.title},t.name),i.a.createElement("div",null,function(e){switch(e){case"supports":return i.a.createElement("i",{className:"far fa-check-circle"});case"opposed":return i.a.createElement("i",{className:"far fa-times-circle"});default:return i.a.createElement("i",{className:"far fa-question-circle"})}}(this.props.position.status))),i.a.createElement("div",{className:this.state.isExpanded?se.a.descriptionContainer_active:se.a.descriptionContainer},i.a.createElement("p",{className:se.a.description},i.a.createElement(oe.a,{source:this.props.position.description}),this.props.position.links.map(function(e,t){return i.a.createElement("a",{key:e._id,href:e.url},"[",t+1,"]")})),i.a.createElement("span",{className:se.a.closeButton},i.a.createElement("i",{onClick:function(t){return e.contractContainer(t)},className:"fas fa-times"}))))}}]),t}(n.Component),ce=a(41),ue=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return(a=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(i)))).getRandomIntInclusive=function(e,t){return e=Math.ceil(e),t=Math.floor(t),Math.floor(Math.random()*(t-e+1))+e},a.isLoggedIn=function(){return null!==a.props.user.token&&""!==a.props.user.token},a}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this,t=this.props.candidates.candidates?this.props.candidates.candidates.filter(function(t){return t._id===e.props.candidates.selectedCandidateId})[0]:null;if(!t)return null;var a=this.props.candidates.candidates.sort(function(e,t){return e.polling>t.polling?-1:1}).indexOf(t)+1,n=t.name,s=t.state,r=t.dob,o=t.slogan,l=t.polling,c=t.description,u=t.website,d=t.websiteDisplay,p=t.partyAffiliation,E=ee()().diff(r,"years"),f=function(){return{backgroundColor:"hsla(".concat(e.getRandomIntInclusive(0,360),",42%,22%,1.0)")}},h=Object(_.a)({},f(),{minWidth:"90px"});return i.a.createElement(ce.Scrollbars,{className:K.a.candidatePanel},i.a.createElement("div",{className:K.a.container},i.a.createElement("div",{className:K.a.row},i.a.createElement(ne,{style:h},i.a.createElement("span",{className:K.a.circlePolling},Math.floor(l),"%"),i.a.createElement("span",null,"#",a)),i.a.createElement("div",{className:K.a.titleContainer},i.a.createElement("h1",null,n),i.a.createElement("h3",null,o))),i.a.createElement("div",{className:K.a.buttonRow},i.a.createElement("div",{style:f(),className:K.a.panelButton},i.a.createElement("a",{className:"panel-websiteLink",href:u},d)),i.a.createElement("div",{style:f(),className:K.a.panelButton},"Age: ",E),i.a.createElement("div",{style:f(),className:K.a.panelButton},p),i.a.createElement("div",{style:f(),className:K.a.panelButton},s),this.isLoggedIn()?i.a.createElement("div",{style:f(),className:K.a.panelButton},i.a.createElement(m.b,{to:"".concat(this.props.match.url,"/edit")},"Edit")):null),i.a.createElement("div",{className:K.a.content},i.a.createElement("div",{className:K.a.col},i.a.createElement("div",{className:K.a.headingContainer},i.a.createElement("h2",{className:K.a.heading},"Positions"),this.isLoggedIn()?i.a.createElement("div",{className:K.a.positionEdit},i.a.createElement(m.b,{style:f(),className:K.a.panelButton,to:"".concat(this.props.match.url,"/editpositions")},"Edit")):null),t.positions.map(function(t){return i.a.createElement(le,{key:t._id,position:t,issues:e.props.issues.issues})})),i.a.createElement("div",{className:K.a.aboutContainer},i.a.createElement("h2",{className:K.a.heading},"About"),i.a.createElement(oe.a,{source:c})))))}}]),t}(n.Component),de=Object(E.b)(function(e){return{candidates:e.candidates,issues:e.issues,user:e.user}},{})(ue),me=a(18),pe=a.n(me),_e=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).componentDidMount=function(){var e=a.props.candidates.candidates?a.props.candidates.candidates.filter(function(e){return e._id===a.props.candidates.selectedCandidateId})[0]:null;if(!e)return null;a.setState({formValues:Object(_.a)({},e)})},a.handleFormChange=function(e){e.persist(),console.log(e.target.name),a.setState(function(t){return{formValues:Object(_.a)({},t.formValues,Object(p.a)({},e.target.name,e.target.value))}})},a.submitForm=function(e){e.preventDefault(),a.props.updateCandidate(a.state.formValues)},a.state={formValues:{}},a}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return i.a.createElement("div",{className:pe.a.overlay},i.a.createElement("div",{className:pe.a.container},i.a.createElement("h1",null,"Edit Candidate"),i.a.createElement("form",{className:pe.a.formRow},i.a.createElement("div",{className:pe.a.formCol},i.a.createElement("div",{className:pe.a.formItem},i.a.createElement("label",null,"Name"),i.a.createElement("input",{type:"text",name:"name",value:this.state.formValues.name||"",onChange:this.handleFormChange})),i.a.createElement("div",{className:pe.a.formItem},i.a.createElement("label",null,"State"),i.a.createElement("input",{type:"text",name:"state",value:this.state.formValues.state||"",onChange:this.handleFormChange})),i.a.createElement("div",{className:pe.a.formItem},i.a.createElement("label",null,"Birthdate"),i.a.createElement("input",{type:"text",name:"dob",value:this.state.formValues.dob||"",onChange:this.handleFormChange})),i.a.createElement("div",{className:pe.a.formItem},i.a.createElement("label",null,"Slogan"),i.a.createElement("input",{type:"text",name:"slogan",value:this.state.formValues.slogan||"",onChange:this.handleFormChange})),i.a.createElement("div",{className:pe.a.formItem},i.a.createElement("label",null,"Polling"),i.a.createElement("input",{type:"text",name:"polling",value:this.state.formValues.polling||"",onChange:this.handleFormChange})),i.a.createElement("div",{className:pe.a.formItem},i.a.createElement("label",null,"Affiliation"),i.a.createElement("input",{type:"text",name:"partyAffiliation",value:this.state.formValues.partyAffiliation||"",onChange:this.handleFormChange})),i.a.createElement("div",{className:pe.a.formItem},i.a.createElement("label",null,"Website URL"),i.a.createElement("input",{type:"text",name:"website",value:this.state.formValues.website||"",onChange:this.handleFormChange})),i.a.createElement("div",{className:pe.a.formItem},i.a.createElement("label",null,"Website Name"),i.a.createElement("input",{type:"text",name:"websiteDisplay",value:this.state.formValues.websiteDisplay||"",onChange:this.handleFormChange})),i.a.createElement("div",{className:pe.a.formItem},i.a.createElement("label",null,"Image Name"),i.a.createElement("input",{type:"text",name:"image",value:this.state.formValues.image||"",onChange:this.handleFormChange})),i.a.createElement("div",{className:pe.a.formItem},i.a.createElement("label",null,"Status"),i.a.createElement("input",{type:"text",name:"status",value:this.state.formValues.status||"",onChange:this.handleFormChange}))),i.a.createElement("div",{className:pe.a.formAbout},i.a.createElement("label",null,"About Candidate"),i.a.createElement("textarea",{type:"text",name:"description",value:this.state.formValues.description||"",onChange:this.handleFormChange}))),i.a.createElement(N.a,{className:pe.a.formButton,onClick:this.submitForm,type:"submit"},"Submit"),i.a.createElement(N.a,{className:pe.a.formButton,tag:m.b,to:"/candidates"},"Close")))}}]),t}(n.Component),Ee=Object(E.b)(function(e){return{candidates:e.candidates}},{updateCandidate:X})(_e),fe=a(222),he=a(223),Ce=a(224),be=a(225),ve=a(226),ge=a(12),Ne=a.n(ge),Oe=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).componentDidMount=function(){var e=a.props.candidates.candidates?a.props.candidates.candidates.filter(function(e){return e._id===a.props.candidates.selectedCandidateId})[0]:null;if(!e)return null;a.setState({candidate:e})},a.handleFormChange=function(e){e.persist(),console.log(e.target.name),a.setState(function(t){return{formValues:Object(_.a)({},t.formValues,Object(p.a)({},e.target.name,e.target.value))}})},a.getPositionName=function(e){var t=a.props.issues.issues.filter(function(t){return t._id===e.issue})[0];return t?t.name:"Unknown Issue"},a.submitForm=function(e){e.preventDefault();var t=a.state.candidate.positions.filter(function(e){return e._id!==a.state.position._id}),n=Object(_.a)({},a.state.candidate,{positions:[a.state.position].concat(Object(F.a)(t))});a.props.updateCandidate(n)},a.getButton=function(e){return a.state.selectedFilter===e?i.a.createElement(N.a,{name:e,outline:!0},e):i.a.createElement(N.a,{onClick:function(){return a.setState({selectedFilter:e})},name:e},e)},a.getIssue=function(e){return a.props.issues.issues.filter(function(t){return t._id===e})[0]},a.getIssues=function(){var e=function(){return a.state.candidate.positions?a.state.candidate.positions.map(function(e){return t=e,a.props.issues.issues.filter(function(e){return e._id===t.issue})[0];var t}):[]};switch(a.state.selectedFilter){case"All":return a.props.issues.issues;case"Complete":return e();case"Incomplete":return function(){var t=e().map(function(e){return e._id});return a.props.issues.issues.filter(function(e){return!t.includes(e._id)})}();default:return a.props.issues.issues}},a.setSelectedIssueId=function(e){var t=a.state.candidate.positions.filter(function(t){return t.issue===e})[0];t||(t={_id:null,description:"",issue:e,links:[],status:"unknown"}),a.setState({selectedIssueId:e,position:t})},a.toggleSelectDropdown=function(){a.setState(function(e){return{statusDropdownOpen:!e.statusDropdownOpen}})},a.setPositionStatus=function(e){a.setState(function(t){return{position:Object(_.a)({},t.position,{status:e})}})},a.handleDescriptionChange=function(e){e.persist(),a.setState(function(t){return{position:Object(_.a)({},t.position,{description:e.target.value})}})},a.state={candidate:{},selectedIssueId:"",position:{},selectedFilter:"Complete",statusDropdownOpen:!1},a}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this,t=this.getIssue(this.state.selectedIssueId);return i.a.createElement("div",{className:Ne.a.overlay},i.a.createElement("div",{className:Ne.a.container},i.a.createElement("div",{className:Ne.a.flexRow},i.a.createElement("h1",null,"Edit Positions")),i.a.createElement("div",{className:Ne.a.flexRow},i.a.createElement("div",{className:Ne.a.flexCol},i.a.createElement("h2",{className:Ne.a.subheading},"Positions"),i.a.createElement("div",{className:Ne.a.positionSelectorContainer},i.a.createElement(ce.Scrollbars,{autoHide:!0,style:{borderRadius:"10px"}},this.getIssues()?this.getIssues().map(function(t){return i.a.createElement("div",{key:t._id,onClick:function(){return e.setSelectedIssueId(t._id)},className:Ne.a.positionSelector},i.a.createElement("h3",null,t.name," "),i.a.createElement("span",{className:Ne.a.arrow},i.a.createElement("i",{className:"fas fa-arrow-circle-right"})))}):null)),i.a.createElement("div",{className:Ne.a.filterButtons},i.a.createElement(fe.a,null,this.getButton("All"),this.getButton("Complete"),this.getButton("Incomplete")))),t?i.a.createElement("div",{className:Ne.a.flexCol},i.a.createElement("h2",{className:Ne.a.issueHeading},t.name),i.a.createElement("form",{className:Ne.a.positionForm},i.a.createElement("h2",{className:Ne.a.subheading},"Status"),i.a.createElement("div",{className:Ne.a.dropdown},i.a.createElement(he.a,{isOpen:this.state.statusDropdownOpen,toggle:this.toggleSelectDropdown},i.a.createElement(Ce.a,{outline:!0,block:!0,caret:!0},this.state.position.status.charAt(0).toUpperCase()+this.state.position.status.slice(1)),i.a.createElement(be.a,null,i.a.createElement(ve.a,{onClick:function(){return e.setPositionStatus("supports")}},"Supports"),i.a.createElement(ve.a,{onClick:function(){return e.setPositionStatus("mixed")}},"Mixed"),i.a.createElement(ve.a,{onClick:function(){return e.setPositionStatus("opposed")}},"Opposed"),i.a.createElement(ve.a,{onClick:function(){return e.setPositionStatus("unknown")}},"Unknown")))),i.a.createElement("h2",{className:Ne.a.subheading},"Description"),i.a.createElement("div",{className:Ne.a.textAreaContainer},i.a.createElement("textarea",{className:Ne.a.descriptionEditor,type:"text",name:"description",value:this.state.position.description||"",onChange:this.handleDescriptionChange})))):null),i.a.createElement("div",{className:Ne.a.controlButtons},i.a.createElement(N.a,{className:Ne.a.formButton,onClick:this.submitForm,type:"submit"},"Submit"),i.a.createElement(N.a,{className:Ne.a.formButton,tag:m.b,to:"/candidates"},"Close"))))}}]),t}(n.Component),Ie=Object(E.b)(function(e){return{candidates:e.candidates,issues:e.issues}},{updateCandidate:X})(Oe),ye=function(){return function(e){h.a.get("/api/issues").then(function(t){return e({type:"GET_ISSUES",payload:t.data})})}},Se=a(92),je=a.n(Se),we=function(e){function t(){return Object(o.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){this.props.getIssues(),this.props.getCandidates()}},{key:"render",value:function(){var e=this.props.match;return i.a.createElement("div",null,i.a.createElement(R.a,{exact:!0,path:"".concat(e.path,"/edit"),component:Ee}),i.a.createElement(R.a,{exact:!0,path:"".concat(e.path,"/editpositions"),component:Ie}),i.a.createElement("div",{className:je.a.candidateView},i.a.createElement(Q,null),i.a.createElement(de,{match:e})))}}]),t}(n.Component),ke=Object(E.b)(function(e){return{}},{getIssues:ye,getCandidates:G})(we),Pe=function(e){function t(){var e;return Object(o.a)(this,t),(e=Object(c.a)(this,Object(u.a)(t).call(this))).handlePollingUpdate=function(t){t.persist(),e.setState(function(e){return{newValues:Object(_.a)({},e.newValues,Object(p.a)({},t.target.name,{polling:t.target.value,_id:t.target.name}))}})},e.handlePollingSubmit=function(t){for(var a in t.preventDefault(),e.state.newValues){var n=e.state.newValues[a];e.props.updateCandidate(n)}},e.state={newValues:{}},e}return Object(d.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){this.props.getCandidates()}},{key:"render",value:function(){var e=this;return this.props.candidates?this.props.user.token?i.a.createElement("div",null,i.a.createElement("form",null,i.a.createElement("table",null,i.a.createElement("thead",null,i.a.createElement("tr",null,i.a.createElement("th",null,"Candidate"),i.a.createElement("th",null,"Polling"),i.a.createElement("th",null,"Edit"))),i.a.createElement("tbody",null,this.props.candidates.sort(function(e,t){return e.polling<t.polling?1:-1}).map(function(t){return i.a.createElement("tr",{key:t._id},i.a.createElement("td",null,t.name),i.a.createElement("td",null,t.polling),i.a.createElement("td",null,i.a.createElement("input",{name:t._id,onChange:e.handlePollingUpdate,value:e.state.newValues[t._id]?e.state.newValues[t._id].polling:t.polling})))}))),i.a.createElement("button",{onClick:this.handlePollingSubmit},"Submit"))):i.a.createElement("p",null,"You must be logged in to view this page."):null}}]),t}(n.Component),Fe=Object(E.b)(function(e){return{candidates:e.candidates.candidates,user:e.user}},{updateCandidate:X,getCandidates:G})(Pe),xe=a(20),De=a.n(xe),Te=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).setSelectedIssue=function(e){a.setState({selectedIssue:e})},a.editIssue=function(e){e.persist(),a.setState(function(t){return{selectedIssue:Object(_.a)({},t.selectedIssue,Object(p.a)({},e.target.name,e.target.value))}})},a.createNewIssue=function(){a.setSelectedIssue({name:"New issue",description:""})},a.saveIssue=function(){a.state.selectedIssue._id?a.props.updateIssue(a.state.selectedIssue):a.props.createIssue(a.state.selectedIssue)},a.state={selectedIssue:{}},a}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this;return i.a.createElement("div",{className:De.a.overlay},i.a.createElement("div",{className:De.a.container},i.a.createElement("h1",null,"Issue Editor"),i.a.createElement("div",{className:De.a.row},i.a.createElement("div",{className:De.a.selectContainer},i.a.createElement("h2",{className:De.a.subheading},"Issue"),i.a.createElement("div",{className:De.a.issueSelectContainer},i.a.createElement(ce.Scrollbars,{style:{borderRadius:"10px"}},i.a.createElement("div",{className:De.a.issueSelector,onClick:this.createNewIssue},i.a.createElement("span",null,i.a.createElement("i",{class:"fas fa-plus-circle"})," New Issue")),this.props.issues.issues.map(function(t){return i.a.createElement("div",{onClick:function(){return e.setSelectedIssue(t)},className:De.a.issueSelector},t.name)})))),i.a.createElement("div",{className:De.a.editContainer},i.a.createElement("h2",{className:De.a.subheading},"Name"),i.a.createElement("input",{className:De.a.nameEditor,onChange:this.editIssue,type:"text",name:"name",value:this.state.selectedIssue.name}),i.a.createElement("h2",{className:De.a.subheading},"Description"),i.a.createElement("textarea",{className:De.a.descriptionEditor,onChange:this.editIssue,name:"description",value:this.state.selectedIssue.description}))),i.a.createElement("div",{className:De.a.controlButtons},i.a.createElement(N.a,{onClick:this.saveIssue},"Save"),i.a.createElement(N.a,{tag:m.b,to:"/issues"},"Close"))))}}]),t}(n.Component),Le=Object(E.b)(function(e){return{issues:e.issues}},{createIssue:function(e){return function(t){h.a.post("/api/issues",e).then(function(e){return t({type:"UPDATE_ISSUE",payload:e.data})})}},updateIssue:function(e){return function(t){console.log(e),h.a.put("/api/issues/".concat(e._id),e).then(function(e){return t({type:"UPDATE_ISSUE",payload:e.data})})}}})(Te),Ve=a(53),Ae=a.n(Ve),Be=function(e){function t(){return Object(o.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){this.props.getIssues()}},{key:"render",value:function(){var e=this.props.match;return i.a.createElement("div",{className:Ae.a.container},i.a.createElement(R.a,{exact:!0,path:"".concat(e.path,"/edit"),component:Le}),this.props.issues.issues.map(function(e){return i.a.createElement("div",{className:Ae.a.issue},i.a.createElement("h3",null,e.name),i.a.createElement("p",{className:Ae.a.description},i.a.createElement(oe.a,{source:e.description})))}))}}]),t}(n.Component),Ue=Object(E.b)(function(e){return{issues:e.issues}},{getIssues:ye})(Be),Re=function(e){function t(){return Object(o.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return i.a.createElement(m.a,null,i.a.createElement(E.a,{store:U},i.a.createElement("div",{className:"app"},i.a.createElement(w,null),i.a.createElement(R.a,{path:"/candidates",component:ke}),i.a.createElement(R.a,{path:"/editpolls",component:Fe}),i.a.createElement(R.a,{path:"/issues",component:Ue}))))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));h.a.defaults.baseURL=Object({NODE_ENV:"production",PUBLIC_URL:""}).DEV?"http://localhost:5000":"",r.a.render(i.a.createElement(Re,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},32:function(e,t,a){e.exports={container:"CandidateListCard_container__2Zlbw",imgContainer:"CandidateListCard_imgContainer__14R03",imgStyle:"CandidateListCard_imgStyle__1HDbK",textContainer:"CandidateListCard_textContainer__rCtji",surnameStyle:"CandidateListCard_surnameStyle__1KZcS",percentageText:"CandidateListCard_percentageText__3TDW5",sloganText:"CandidateListCard_sloganText__3T0oL",active:"CandidateListCard_active__2Yc6v CandidateListCard_container__2Zlbw"}},37:function(e,t,a){e.exports={row:"CandidatePositionCard_row__1ne-5",container:"CandidatePositionCard_container__ZXb7C",title:"CandidatePositionCard_title__3qzoq",description:"CandidatePositionCard_description__25BFT",descriptionContainer:"CandidatePositionCard_descriptionContainer__1ObjE",descriptionContainer_active:"CandidatePositionCard_descriptionContainer_active__13HqO",closeButton:"CandidatePositionCard_closeButton__2wslA"}},38:function(e,t,a){e.exports={circle_container:"CandidatePanelCircle_circle_container__1txKQ",circle:"CandidatePanelCircle_circle__37pm0",circle__after:"CandidatePanelCircle_circle__after__31F3w",circle__inner:"CandidatePanelCircle_circle__inner__3bIon",circle__wrapper:"CandidatePanelCircle_circle__wrapper__1py1T",circle__content:"CandidatePanelCircle_circle__content__3aMZy",circle_bottom:"CandidatePanelCircle_circle_bottom__RrMDV"}},46:function(e,t,a){e.exports={form:"Login_form__2cvfV",loginText:"Login_loginText__2Bko7",formItem:"Login_formItem__1fD_j",titleStyle:"Login_titleStyle__337-Y"}},52:function(e,t,a){e.exports={navbar:"Navbar_navbar__3G0eQ",left:"Navbar_left__3vuvJ",titleStyle:"Navbar_titleStyle__2tjCU"}},53:function(e,t,a){e.exports={container:"Issues_container__Y0lQf",issue:"Issues_issue__yXbdB",description:"Issues_description__2TIP2"}},87:function(e,t,a){e.exports={sidebar:"Sidebar_sidebar__1cfXJ"}},92:function(e,t,a){e.exports={candidateView:"CandidateView_candidateView__182LU"}},93:function(e,t,a){e.exports=a(221)}},[[93,1,2]]]);
//# sourceMappingURL=main.76be44c1.chunk.js.map